[gd_scene load_steps=40 format=3 uid="uid://b33cpr8gg2w2p"]

[ext_resource type="PackedScene" uid="uid://bw3la51gxjuvn" path="res://Player/Player.tscn" id="1_j4yrh"]
[ext_resource type="Texture2D" uid="uid://drx7fu7q456gu" path="res://Objects/Textures/Tiles002_2K-JPG/Tiles002_2K-JPG_Color.jpg" id="2_nhfl0"]
[ext_resource type="PackedScene" uid="uid://dvh6mhon1v8f" path="res://Objects/Scenes/base_objects/TestCube.tscn" id="3_blg0j"]
[ext_resource type="Texture2D" uid="uid://ddrqvk4brwvwg" path="res://Objects/Textures/Tiles002_2K-JPG/Tiles002_2K-JPG_NormalGL.jpg" id="3_ecqth"]
[ext_resource type="Texture2D" uid="uid://b1qrvy7i2p4fl" path="res://Objects/Textures/Concrete045_1K-JPG/Concrete045_1K-JPG_Color.jpg" id="4_2ogs2"]
[ext_resource type="PackedScene" uid="uid://7lotlmmctaod" path="res://Objects/Scenes/pickable/pickable_Wheel.tscn" id="4_nhfl0"]
[ext_resource type="PackedScene" uid="uid://bnxuu0j3aoskr" path="res://Objects/Scenes/menu/screen_test.tscn" id="5_ecqth"]
[ext_resource type="Material" uid="uid://0kpybktexqcf" path="res://Objects/Textures/Plaster001_1K-JPG/plaster_mat.tres" id="5_nhfl0"]
[ext_resource type="Texture2D" uid="uid://crcx7imsftpfb" path="res://Objects/Textures/Concrete045_1K-JPG/Concrete045_1K-JPG_AmbientOcclusion.jpg" id="5_o6vjd"]
[ext_resource type="Texture2D" uid="uid://coko5y4wgnfsi" path="res://Objects/Textures/Plaster001_1K-JPG/Plaster001_1K-JPG_Color.jpg" id="6_2ogs2"]
[ext_resource type="Material" uid="uid://4n3m8pvkxu7c" path="res://Objects/Textures/Plaster001_1K-JPG/plaster_mat_small.tres" id="6_ecqth"]
[ext_resource type="Texture2D" uid="uid://cu3wweb17wn64" path="res://Objects/Textures/Concrete045_1K-JPG/Concrete045_1K-JPG_NormalGL.jpg" id="6_esybn"]
[ext_resource type="PackedScene" uid="uid://dlflvsv2mqimx" path="res://Objects/Scenes/interactable/interactable_Machine.tscn" id="6_wlqb8"]
[ext_resource type="PackedScene" uid="uid://duidpj7yajo5a" path="res://Objects/Scenes/interactable/interactable_machine_model.tscn" id="7_2ogs2"]
[ext_resource type="Texture2D" uid="uid://deqt817x843r8" path="res://Objects/Textures/Plaster001_1K-JPG/Plaster001_1K-JPG_NormalGL.jpg" id="7_o6vjd"]
[ext_resource type="Texture2D" uid="uid://2bvl4tv65750" path="res://Objects/Textures/Plaster001_1K-JPG/Plaster001_1K-JPG_Roughness.jpg" id="8_esybn"]
[ext_resource type="PackedScene" uid="uid://bejanbmtmjtae" path="res://Objects/Scenes/pickable/pickable_Tamis.tscn" id="8_o6vjd"]
[ext_resource type="PackedScene" uid="uid://bcc6bxpbnbc2y" path="res://Objects/Scenes/interactable/change_scene_Usine.tscn" id="9_esybn"]
[ext_resource type="PackedScene" uid="uid://waejlppfqsoi" path="res://Objects/Scenes/interactable/interactable_dehuller.tscn" id="19_urbla"]
[ext_resource type="PackedScene" uid="uid://qnmybg6m6a62" path="res://Objects/Scenes/base_objects/dehuller_open.tscn" id="20_gtbfn"]
[ext_resource type="PackedScene" uid="uid://b43a7kpwrve1n" path="res://Objects/Scenes/interactable/interactable_stone_mill.tscn" id="21_gtbfn"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_xovt2"]
rough = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2ogs2"]
albedo_texture = ExtResource("2_nhfl0")
normal_enabled = true
normal_texture = ExtResource("3_ecqth")
uv1_scale = Vector3(40, 24, 1)

[sub_resource type="BoxMesh" id="BoxMesh_01oiu"]

[sub_resource type="BoxShape3D" id="BoxShape3D_0c42b"]
size = Vector3(20.0072, 0.507024, 12.0529)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_piqyp"]
albedo_texture = ExtResource("4_2ogs2")
normal_enabled = true
normal_texture = ExtResource("6_esybn")
ao_enabled = true
ao_texture = ExtResource("5_o6vjd")
uv1_scale = Vector3(18, 6, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_gtbfn"]
albedo_texture = ExtResource("6_2ogs2")
roughness_texture = ExtResource("8_esybn")
normal_enabled = true
normal_texture = ExtResource("7_o6vjd")
uv1_scale = Vector3(20, 4, 0.2)

[sub_resource type="BoxShape3D" id="BoxShape3D_piqyp"]
size = Vector3(20.2056, 0.392059, 4.04064)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_61rgn"]
transparency = 1
albedo_color = Color(0.670548, 0.863468, 1, 0.294118)

[sub_resource type="BoxMesh" id="BoxMesh_urbla"]

[sub_resource type="BoxShape3D" id="BoxShape3D_nhfl0"]
size = Vector3(20.0318, 0.220452, 4.1159)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_urbla"]
albedo_texture = ExtResource("6_2ogs2")
roughness_texture = ExtResource("8_esybn")
normal_enabled = true
normal_texture = ExtResource("7_o6vjd")
uv1_scale = Vector3(5, 1.5, 0.2)

[sub_resource type="BoxMesh" id="BoxMesh_gtbfn"]

[sub_resource type="BoxShape3D" id="BoxShape3D_6xtey"]
size = Vector3(12.0284, 0.270871, 4.04064)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_piqyp"]
sky_top_color = Color(0.372549, 0.545098, 0.988235, 1)
sky_horizon_color = Color(0.812239, 0.881988, 0.92343, 1)

[sub_resource type="Sky" id="Sky_61rgn"]
sky_material = SubResource("ProceduralSkyMaterial_piqyp")

[sub_resource type="Environment" id="Environment_urbla"]
background_mode = 2
background_energy_multiplier = 1.1
sky = SubResource("Sky_61rgn")
ambient_light_source = 2
ambient_light_color = Color(0.470076, 0.470076, 0.470076, 1)
reflected_light_source = 1
sdfgi_use_occlusion = true
adjustment_enabled = true
adjustment_contrast = 1.15
adjustment_saturation = 1.2

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_gtbfn"]

[sub_resource type="Compositor" id="Compositor_eubjm"]

[node name="Usine" type="Node3D"]

[node name="Player" parent="." instance=ExtResource("1_j4yrh")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 8.70045, 1.30939, 0.997697)

[node name="World" type="Node3D" parent="."]

[node name="Floor" type="StaticBody3D" parent="World"]
physics_material_override = SubResource("PhysicsMaterial_xovt2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Floor"]
transform = Transform3D(20, 0, 0, 0, 0.5, 0, 0, 0, 12, 0.00913692, 0, -0.322173)
material_override = SubResource("StandardMaterial3D_2ogs2")
mesh = SubResource("BoxMesh_01oiu")
skeleton = NodePath("../CollisionShape3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.201731, 0.00302401, -0.0185595)
shape = SubResource("BoxShape3D_0c42b")

[node name="Ceiling" type="StaticBody3D" parent="World"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Ceiling"]
transform = Transform3D(20, 0, 0, 0, 0.5, 0, 0, 0, 12, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_piqyp")
mesh = SubResource("BoxMesh_01oiu")
skeleton = NodePath("../CollisionShape3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Ceiling"]
transform = Transform3D(1, -3.22238e-07, 0, 3.22238e-07, 1, 0, 0, 0, 1, -0.00802504, -0.00700235, -0.137155)
shape = SubResource("BoxShape3D_0c42b")

[node name="Wall" type="StaticBody3D" parent="World"]
transform = Transform3D(1, 0, -5.58794e-09, 5.58794e-09, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.0150503, 2.00635, 5.71045)

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Wall"]
transform = Transform3D(20, 0, 0, 0, 0.5, 0, 0, 0, 4, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_gtbfn")
mesh = SubResource("BoxMesh_01oiu")
skeleton = NodePath("../CollisionShape3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Wall"]
transform = Transform3D(1, 6.61744e-21, -3.1665e-07, 1.51184e-14, 1, -1.67333e-12, 3.1665e-07, 1.67333e-12, 1, -0.111019, 0.0605941, 0.0104835)
shape = SubResource("BoxShape3D_piqyp")

[node name="Wall2" type="StaticBody3D" parent="World"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.0418415, 2.00025, -6.07581)

[node name="Glass" type="MeshInstance3D" parent="World/Wall2"]
transform = Transform3D(7.905, 0, 0, 0, -6.55671e-08, -0.2, 0, 1.5, -8.74228e-09, 0.023, -0.157, 0)
material_override = SubResource("StandardMaterial3D_61rgn")
mesh = SubResource("BoxMesh_urbla")
skeleton = NodePath("")

[node name="MurHaut" type="MeshInstance3D" parent="World/Wall2"]
transform = Transform3D(20, 0, 0, 0, 0.2, -2.4869e-14, 0, 2.66454e-15, 1, 0, -0.156149, 1.26018)
material_override = ExtResource("5_nhfl0")
mesh = SubResource("BoxMesh_01oiu")
skeleton = NodePath("../CollisionShape3D")

[node name="MurBas" type="MeshInstance3D" parent="World/Wall2"]
transform = Transform3D(20, 0, 0, 0, 0.2, -1.77636e-14, 0, 2.66454e-15, 1, 0, -0.156149, -1.25107)
material_override = ExtResource("5_nhfl0")
mesh = SubResource("BoxMesh_01oiu")
skeleton = NodePath("../CollisionShape3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Wall2"]
transform = Transform3D(1, 0, 0, 0, 1, -3.0056e-12, 0, 3.0056e-12, 1, 0.00706697, -0.166536, 0.00998497)
shape = SubResource("BoxShape3D_nhfl0")

[node name="MurGauche" type="MeshInstance3D" parent="World/Wall2"]
transform = Transform3D(6, 0, 0, 0, 0.2, -2.02505e-14, 0, 2.66454e-15, 1.52, -6.932, -0.156, 0)
material_override = SubResource("StandardMaterial3D_urbla")
mesh = SubResource("BoxMesh_gtbfn")
skeleton = NodePath("../CollisionShape3D")

[node name="MurDroit" type="MeshInstance3D" parent="World/Wall2"]
transform = Transform3D(6, 0, 0, 0, 0.2, -2.13163e-14, 0, 2.66454e-15, 1.52, 6.974, -0.158, 0)
material_override = SubResource("StandardMaterial3D_urbla")
mesh = SubResource("BoxMesh_gtbfn")
skeleton = NodePath("../CollisionShape3D")

[node name="Wall3" type="StaticBody3D" parent="World"]
transform = Transform3D(-4.37114e-08, 1, 4.37114e-08, 0, -4.37114e-08, 1, 1, 4.37114e-08, 1.91069e-15, -10.0307, 2.04734, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Wall3"]
transform = Transform3D(12, 0, 0, 0, 0.2, -1.42109e-14, 0, 7.10543e-16, 4, 0, 0, 0)
material_override = ExtResource("6_ecqth")
mesh = SubResource("BoxMesh_01oiu")
skeleton = NodePath("../CollisionShape3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Wall3"]
transform = Transform3D(1, 0, -1.90582e-19, 2.82085e-12, 1, -2.82085e-12, -3.36696e-20, 8.35188e-23, 1, -0.0670565, 0.00741673, 0)
shape = SubResource("BoxShape3D_6xtey")

[node name="Wall4" type="StaticBody3D" parent="World"]
transform = Transform3D(-4.37114e-08, -1, -4.37114e-08, 0, -4.37114e-08, 1, -1, 4.37114e-08, 1.91069e-15, 9.88613, 2.05987, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Wall4"]
transform = Transform3D(12, 0, 0, 0, 0.2, 0, 0, 0, 4, 0, 0, 0)
material_override = ExtResource("6_ecqth")
mesh = SubResource("BoxMesh_01oiu")
skeleton = NodePath("../CollisionShape3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Wall4"]
transform = Transform3D(1, 1.31095e-12, 8.83032e-20, -1.31095e-12, 1, -1.31095e-12, 1.01644e-20, 1.31095e-12, 1, 1.42109e-13, -0.00115776, 0)
shape = SubResource("BoxShape3D_6xtey")

[node name="Objects" type="Node3D" parent="."]

[node name="GodotCube" parent="Objects" instance=ExtResource("3_blg0j")]
transform = Transform3D(0.0749265, 0, -0.997189, 0, 1, 0, 0.997189, 0, 0.0749265, -2.49405, 0.778109, -0.253787)

[node name="PickableWheel" parent="Objects" instance=ExtResource("4_nhfl0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.79303, 1.3057, -0.342406)

[node name="PickableWheel2" parent="Objects" instance=ExtResource("4_nhfl0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.26683, 1.31991, 0.00571045)

[node name="PickableWheel3" parent="Objects" instance=ExtResource("4_nhfl0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.33585, 1.32347, -0.67431)

[node name="TestScreen" parent="Objects" instance=ExtResource("5_ecqth")]
transform = Transform3D(-0.978437, 0, -0.206546, 0, 1, 0, 0.206546, 0, -0.978437, -1.53113, 1.33872, 5.0888)

[node name="TheMachine" parent="Objects" instance=ExtResource("6_wlqb8")]
transform = Transform3D(0.635, 0, 0, 0, 0.635, 0, 0, 0, 0.635, -7.47999, 0.256536, -2.93455)

[node name="TheMachine2" parent="Objects" instance=ExtResource("7_2ogs2")]
transform = Transform3D(0.0414901, 0, 0.698769, 0, 0.7, 0, -0.698769, 0, 0.0414901, -5.01286, 0.256536, -3.43361)

[node name="PickableTamis" parent="Objects" instance=ExtResource("8_o6vjd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.28513, 0.266536, -4.73895)

[node name="ChangeSceneUsine" parent="Objects" instance=ExtResource("9_esybn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.34682, 0.756536, 1.91209)

[node name="interactable_Dehuller" parent="Objects" instance=ExtResource("19_urbla")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.24842, 1.57395, -4.75056)

[node name="Dehuller_open" parent="Objects" instance=ExtResource("20_gtbfn")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.991427, 1.57515, -4.68075)

[node name="GodotCube2" parent="Objects" instance=ExtResource("3_blg0j")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.26443, 0.778109, -4.72862)

[node name="GodotCube3" parent="Objects" instance=ExtResource("3_blg0j")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.994605, 0.778109, -4.72862)

[node name="Environment" type="Node3D" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment"]
environment = SubResource("Environment_urbla")
camera_attributes = SubResource("CameraAttributesPractical_gtbfn")
compositor = SubResource("Compositor_eubjm")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, -0.840378, 0.542002, 0, -0.542001, -0.840377, 0, 2.1017, 0)
shadow_enabled = true
shadow_blur = 0.4
directional_shadow_mode = 1

[node name="OmniLight3D" type="OmniLight3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.22482, 2.19933, 5.19243)
light_color = Color(1, 0.955315, 0.931085, 1)
shadow_enabled = true
shadow_blur = 0.8
omni_range = 18.0
omni_attenuation = 0.4

[node name="OmniLight3D2" type="OmniLight3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.3726, 2.19933, 5.19243)
light_color = Color(1, 0.955315, 0.931085, 1)
light_bake_mode = 0
shadow_enabled = true
shadow_blur = 0.8
omni_range = 18.0
omni_attenuation = 0.4

[node name="stone_mill" parent="." instance=ExtResource("21_gtbfn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.34555, 0.80802, 3.81416)
